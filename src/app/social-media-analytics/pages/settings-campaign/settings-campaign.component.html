<div class="flex flex-col">
  <div>
    <p-panel>
      <tabs>
        <tab-item
          [tabItem]="tabFacebook"
          [templateContentRef]="tempContent"
          [templateRightRef]="topBarRight"
          [content]="content1"
        ></tab-item>
        <tab-item
          [tabItem]="tabInstagram"
          [templateContentRef]="tempContent"
          [templateRightRef]="topBarRight"
          [content]="content2"
        ></tab-item>
        <tab-item
          [tabItem]="tabTwitter"
          [templateContentRef]="tempContent"
          [templateRightRef]="topBarRight"
          [content]="content3"
        ></tab-item>
      </tabs>

      <ng-template #topBarRight let-content="content">
        <p class="text-top-right-bar">{{ topBarCaption }} :</p>
        <app-modal-add-new-campaign></app-modal-add-new-campaign>
      </ng-template>

      <ng-template #tempContent let-content="content">
        <div class="block">
          <p class="text-faded">{{ content.data.length }} Campaigns</p>
        </div>

        <div class="card">
          <p-table
            [value]="content.data"
            [tableStyle]="{ 'min-width': '50rem' }"
            class="table-style"
          >
            <ng-template pTemplate="header">
              <tr>
                <th style="width: 5%">
                  <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
                </th>
                <th pSortableColumn="title" style="width: 30%">
                  TITLE
                  <p-sortIcon field="title"></p-sortIcon>
                </th>
                <th pSortableColumn="company" style="width: 20%">
                  COMPANY
                  <p-sortIcon field="company"></p-sortIcon>
                </th>
                <th pSortableColumn="overallsentiment" style="width: 30%">
                  OVERALL SENTIMENT
                  <p-sortIcon field="overallsentiment"></p-sortIcon>
                </th>
                <th style="width: 15%">ACTION</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-item>
              <tr>
                <td>
                  <p-tableCheckbox></p-tableCheckbox>
                </td>
                <td>{{ item.title }}</td>
                <td>{{ item.company }}</td>
                <td>
                  <span>{{ item.overall_sentiment }}</span>
                  <progress-bar
                    [value]="item.min_val"
                    [bufferValue]="item.max_val"
                    [color]="'#23B103'"
                  ></progress-bar>
                </td>
                <td>
                  <div
                    class="flex align-items-center justify-content-center gap-2"
                  >
                    <button
                      pButton
                      pRipple
                      type="button"
                      icon="pi pi-pencil"
                      (click)="onRowEdit(item)"
                      class="p-button-text p-button-Primary"
                    ></button>
                    <button
                      pButton
                      pRipple
                      type="button"
                      icon="pi pi-trash"
                      (click)="onRowDelete(item)"
                      class="p-button-text p-button-danger"
                    ></button>
                  </div>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </ng-template>
    </p-panel>
  </div>
</div>
