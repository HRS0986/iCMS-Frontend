<p-sidebar class="sideBar" position="right" [(visible)]="sidebarVisible">
  <ng-template pTemplate="header" class="justify-content-center">
    <span class="title">Add a Widget</span>
  </ng-template>

  <ng-template pTemplate="content">
    <p-divider></p-divider>
    <div class="chart-type mt-5">
      <span>Chart Title</span>
    </div>
    <div class="pt-5">
      <span>
        <input pInputText id="title" type="text" class="p-inputtext-sm title-input" [(ngModel)]="title" />
      </span>
    </div>
    <div>
      <div class="chart-type mt-5">
        <span>Chart Type</span>
      </div>
      <div class="chart-content mt-5">
        <p-selectButton class="selectChart" [options]="stateOptions" [(ngModel)]="selectedChartType" optionLabel="label" optionValue="label" (onChange)="onChartTypeChange($event.value)"></p-selectButton>
      </div>

      <!-- Conditionally show x-axis and y-axis options based on selected chart type -->
      <div *ngIf="selectedChartType === 'Line Chart'" class="chart-category mt-5">
        <div class="chart-type mt-5">
          <span>X-Axis Category</span>
        </div>
        <div class="pt-5">
          <p-selectButton [options]="lineChartXAxisOptions" [(ngModel)]="selectedXAxis" optionLabel="label" optionValue="value"></p-selectButton>
        </div>
        <div class="chart-type mt-5">
          <span>Y-Axis Category</span>
        </div>
        <div class="pt-5">
          <p-selectButton [options]="lineChartYAxisOptions" [(ngModel)]="selectedYAxis" optionLabel="label" optionValue="value" ></p-selectButton>
        </div>
      </div>

      <div *ngIf="selectedChartType === 'Bar Chart'" class="chart-category mt-5">
        <div class="chart-type mt-5">
          <span>X-Axis Category</span>
        </div>
        <!-- <div class="pt-5"> -->
          <!-- <p-selectButton [options]="barChartXAxisOptions" [(ngModel)]="selectedXAxis" optionLabel="label" optionValue="value" (onChange)="onXAxisChange($event.value)"></p-selectButton>
        </div>-->
        <div  class="chart-category mt-5"> 
          <div class="chart-type mt-5">
            <span>Topics</span>
          </div>
          <div class="pt-5">
            <p-multiSelect [options]="topicsOptions" [(ngModel)]="selectedTopics" optionLabel="label" optionValue="value" placeholder="Select topics"></p-multiSelect>
          </div>
        </div>
        <div class="chart-type mt-5">
          <span>Y-Axis Category</span>
        </div>
        <div class="pt-5">
          <p-selectButton [options]="barChartYAxisOptions" [(ngModel)]="selectedYAxis" optionLabel="label" optionValue="value"></p-selectButton>
        </div>
      </div>

      <!-- Add other chart type conditions as needed -->

      <div class="choose-source mt-5">
        <span class="mb-5">Choose source</span>
        <p-multiSelect [options]="sources" [filter]="false" [showHeader]="false" [(ngModel)]="selectedCities" placeholder="Select source" optionLabel="name" display="chip" [showClear]="true" ></p-multiSelect>
      </div>

      <div class="choose-source mt-5">
        <span class="mb-5">Add filter keywords</span>
        <p-multiSelect [options]="keywords" [showHeader]="true" [(ngModel)]="selectedKeywords" placeholder="Select keywords" optionLabel="name"></p-multiSelect>
      </div>

      <div class="save-button mt-5">
        <p-button label="Save" class="saveButton" (click)="saveWidget()"></p-button>
      </div>

      <!-- <div>
        <p-button severity="secondary" icon="pi pi-chart-bar" class="pe-3 addWidget" (click)="showDialog()"></p-button>
      </div> -->
    </div>
  </ng-template>
</p-sidebar>


<p-button severity="secondary" icon="pi pi-chart-bar" class="pe-3 addWidget" (click)="sidebarVisible = true"></p-button>


<!-- <p-dialog 
    header="Header" 
    [modal]="true"
    [(visible)]="change" 
    [style]="{ width: '50rem' }" 
    [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" 
    [maximizable]="true">
    <div>
      <app-line-chart-sample [title]="title"
      [sources]="selectedCities"
      [yAxis]="selectedYAxis"></app-line-chart-sample>
    </div>
</p-dialog> -->